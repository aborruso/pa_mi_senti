<!doctype html>
<html lang="it">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Reindirizzamento…</title>
    <meta http-equiv="refresh" content="0; url=./" />
    <script>
      (function () {
        try {
          var segments = window.location.pathname.split("/").filter(Boolean);
          var repoSegment = segments.length > 0 ? "/" + segments[0] + "/" : "/";
          var basePath = repoSegment;
          var isGitHubPages = window.location.hostname.endsWith(".github.io");
          if (!isGitHubPages) {
            basePath = "/";
          }
          var redirectPath = window.location.pathname;
          if (redirectPath.startsWith(basePath)) {
            redirectPath = redirectPath.slice(basePath.length);
          }
          var search = window.location.search || "";
          var hash = window.location.hash || "";
          window.sessionStorage.setItem("redirect", redirectPath + search + hash);
          window.location.replace(basePath);
        } catch (error) {
          console.warn("Impossibile applicare il redirect di fallback:", error);
          window.location.replace("/");
        }
      })();
    </script>
  </head>
  <body>
    <p>Reindirizzamento alla home…</p>
  </body>
</html>
